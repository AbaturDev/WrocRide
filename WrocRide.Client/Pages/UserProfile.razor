@page "/me"
@inject IUserService UserService


<div class="d-flex justify-content-center" style="height: 100vh; margin-top: 20px">
    <div class="row rounded bg-light shadow p-4" style="width: 500px; height: 500px; overflow: hidden;">
        <div class="col-12 text-center mb-3">
            <img src="images/avatar.png" alt="..." class="rounded-circle img-fluid" style="width: 170px; height: 170px;">
        </div>
        <div class="col-12">
            <ul class="list-unstyled mb-0 text-center">
                <li class="mb-2"><span class="text-secondary fw-bold">Id:</span> @user.Id</li>
                <li class="mb-2"><span class="text-secondary fw-bold">Name:</span> @user.Name</li>
                <li class="mb-2"><span class="text-secondary fw-bold">Surename:</span> @user.Surename</li>
                <li class="mb-2"><span class="text-secondary fw-bold">Email:</span> @user.Email</li>
                <li class="mb-2"><span class="text-secondary fw-bold">Phone:</span> @user.PhoneNumber</li>
                <li class="mb-2"><span class="text-secondary fw-bold">Role:</span> @user.Role</li>
                <li class="mb-2"><span class="text-secondary fw-bold">Join at:</span> @user.JoinAt</li>
            </ul>
        </div>
        <div class="col-12 text-center mt-3">
            <button class="btn btn-danger" @onclick="DeactivateAccount">Usuń konto</button>
        </div>
    </div>
</div>

@code {
    private UserDto user = new();

    protected override async Task OnInitializedAsync()
    {
        user = await UserService.GetUser();
    }

    private async Task DeactivateAccount()
    {
        await UserService.DeactivateAccount();
    }
}
